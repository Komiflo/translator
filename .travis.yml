language: go
matrix:
  include:
  - go: '1.2'
    env: VET_PACKAGE=code.google.com/p/go.tools/cmd/vet INSTALL_RACE="go install -a
      -race std"
  - go: '1.3'
    env: VET_PACKAGE=code.google.com/p/go.tools/cmd/vet
  - go: '1.4'
    env: VET_PACKAGE=golang.org/x/tools/cmd/vet
before_script:
- eval $INSTALL_RACE
- go get $VET_PACKAGE
- go get github.com/golang/lint/golint
script:
- go test -v -race ./...
- go tool vet -all=true -v=true .
- golint ./...
sudo: false
env:
  global:
    secure: kJbVPtT7O8B2qmGPPAGW38OKpn0joVnvtoNYb32CyqW+CnGcSR7eL096BB5c74xmNkrNLV6OfyfWdvO8qoHKDAmz+gBAzOaimq4Aql6tdlWCnTvZBv0ur6f2375shw9I+BoJDohIhTEJK5I7Nrg2kMrgXGKxcZ2/OXbvPrX9bqA=
